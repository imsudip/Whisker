<!DOCTYPE html>
<html lang="en" data-theme="nord">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Whisker — Settings</title>
    <link rel="stylesheet" href="output.css" />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body class="bg-base-200 text-base-content">
    <div class="popup-shell">
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body gap-6">
          <header class="flex flex-col gap-1">
            <div class="flex items-center justify-between gap-3">
              <div>
                <h1 class="card-title text-2xl font-semibold">
                  <img
                    src="logo.png"
                    alt="Whisker"
                    width="42px"
                    height="42px"
                    class="inline-block mr-2 align-middle"
                  />
                  Whisker
                </h1>
              </div>
              <a
                href="https://github.com/"
                target="_blank"
                rel="noopener noreferrer"
              >
                <span class="badge badge-outline badge-primary"
                  >github
                  <!-- icon -->
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="inline-block ml-1"
                    width="16"
                    height="16"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                    />
                  </svg>
                </span>
              </a>
            </div>
            <p class="text-md font-semibold">About &amp; Settings</p>
            <p class="text-sm leading-relaxed opacity-80">
              Whisper-powered speech-to-text for any text field. Configure your
              OpenAI API key below to get started.
            </p>
          </header>

          <section class="space-y-4" aria-labelledby="apiKeyLabel">
            <div class="form-control w-full">
              <label class="label flex-wrap gap-1 mb-4" id="apiKeyLabel">
                <span class="label-text font-bold">OpenAI API Key</span>
                <span class="label-text-alt text-sm"
                  >Stored securely in extension storage</span
                >
              </label>
              <div class="join w-full">
                <label class="input join-item">
                  <svg
                    class="h-[1em] opacity-50"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                  >
                    <g
                      stroke-linejoin="round"
                      stroke-linecap="round"
                      stroke-width="2.5"
                      fill="none"
                      stroke="currentColor"
                    >
                      <path
                        d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                      ></path>
                      <circle
                        cx="16.5"
                        cy="7.5"
                        r=".5"
                        fill="currentColor"
                      ></circle>
                    </g>
                  </svg>
                  <input
                    id="apiKey"
                    type="password"
                    autocomplete="off"
                    placeholder="sk-..."
                    class="w-full"
                  />
                </label>

                <button
                  id="toggleReveal"
                  type="button"
                  class="btn btn-square join-item"
                  title="Show or hide API key"
                >
                  <!-- eye icon -->
                  <svg
                    id="show-eye"
                    class="block"
                    fill="currentColor"
                    width="16px"
                    height="16px"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21.92,11.6C19.9,6.91,16.1,4,12,4S4.1,6.91,2.08,11.6a1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20s7.9-2.91,9.92-7.6A1,1,0,0,0,21.92,11.6ZM12,18c-3.17,0-6.17-2.29-7.9-6C5.83,8.29,8.83,6,12,6s6.17,2.29,7.9,6C18.17,15.71,15.17,18,12,18ZM12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"
                    />
                  </svg>
                  <svg
                    id="close-eye"
                    class="hidden"
                    fill="currentColor"
                    width="16px"
                    height="16px"
                    viewBox="0 0 256 256"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M234.35254,160.8125a12.00024,12.00024,0,1,1-20.78516,12l-16.2771-28.19189a127.01451,127.01451,0,0,1-29.36694,13.47021l5.18994,29.43164a11.99973,11.99973,0,1,1-23.63476,4.168l-5.053-28.6543a140.4304,140.4304,0,0,1-32.94116-.01074l-5.05176,28.65234a11.99973,11.99973,0,0,1-23.63477-4.168l5.19165-29.44483A127.0154,127.0154,0,0,1,58.665,144.59326L42.28125,172.9707a12.00024,12.00024,0,0,1-20.78516-12l17.85523-30.92578A153.16947,153.16947,0,0,1,22.665,112.416,11.99959,11.99959,0,0,1,41.333,97.334C57.05859,116.79785,84.8584,140,128,140c43.14063,0,70.94043-23.20215,86.666-42.666a11.99959,11.99959,0,1,1,18.668,15.082,153.08978,153.08978,0,0,1-16.72509,17.66406Z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <div class="flex flex-wrap gap-2">
              <button id="saveBtn" type="button" class="btn btn-neutral">
                Save key
              </button>
              <button id="clearBtn" type="button" class="btn btn-soft">
                Clear
              </button>
            </div>

            <div
              id="status"
              class="text-sm opacity-80 min-h-6"
              aria-live="polite"
            ></div>
          </section>

          <footer class="flex flex-col gap-3 text-xs opacity-70">
            <div role="alert" class="alert alert-info alert-dash">
              <span class="font-medium">Tip:</span>
              You can update or remove your key at any time.
            </div>
            <p>
              Keys never leave your browser—only stored within the extension.
            </p>
          </footer>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
